(this.webpackJsonpitemslist=this.webpackJsonpitemslist||[]).push([[0],{29:function(e){e.exports=JSON.parse('{"a":10000,"b":"https://api.exchangeratesapi.io/latest"}')},95:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(22),i=n.n(a),s=n(34),o=n(8),j=n(20),u=n(127),d=n(129),l=n(128),b=n(126),m=n(113),x=Object(m.a)((function(){return{toolBar:{paddingLeft:"26vw",display:"flex",justifyContent:"space-evenly",flexDirection:"row",backgroundColor:"rgb(25, 118, 210)"}}})),h=n(38),O=n.n(h),f=n(55),p=n(60),v=n(41),S=n(56),I=n.n(S),g=n(57),w=n.n(g),D=n(29),y=function(){var e=Object(c.useContext)(P).storeItems;return{getNumberOfStoreProducts:function(t){return e.filter((function(e){return e.store.id===t})).length}}},N=n(115),R=n(116),C=Object(m.a)((function(){return{store:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"2vh 1vw",width:"13vw",height:"12vh"}}})),E=n(2),L=function(e){var t=C(),n=e.currStore,c=e.numOfItems;return Object(E.jsxs)(N.a,{className:t.store,children:[Object(E.jsx)(R.a,{children:"Store Name: ".concat(n.name)}),Object(E.jsx)(R.a,{children:"Number of Current Items: ".concat(c)})]})},k=Object(m.a)((function(){return{mainList:{display:"flex",flexDirection:"row",justifyContent:"center"}}})),T=[{id:1,name:"Amazon"},{id:2,name:"eBay"},{id:3,name:"Ali Express"}],U=function(){var e=k(),t=y().getNumberOfStoreProducts;return Object(E.jsx)("div",{className:e.mainList,children:T.map((function(e){return Object(E.jsx)(L,{currStore:e,numOfItems:t(e.id)})}))})},B=[{id:0,name:"Iphone 12",deliveryDate:new Date("2021-04-01"),isReceived:!1,priceILS:100,priceUSD:0,store:T[0]},{id:1,name:"GoPro",deliveryDate:new Date("2020-10-11"),isReceived:!1,priceILS:100,priceUSD:0,store:T[1]},{id:2,name:"Garmin Watch",deliveryDate:new Date("2021-02-11"),isReceived:!0,priceILS:100,priceUSD:0,store:T[2]}],P=r.a.createContext(null),F=function(e){var t=e.children,n=Object(c.useState)(B),r=Object(j.a)(n,2),a=r[0],i=r[1];return Object(E.jsx)(P.Provider,{value:{storeItems:a,setStoreItems:i},children:t})},J=function(e){var t=Object(c.useContext)(P),n=t.storeItems,r=t.setStoreItems,a=e.shekelToUSDExchangeRate,i=e.setShekelToUSDExchangeRate,s=function(){var e=Object(f.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(D.b,"?base=").concat("ILS","&symbols=").concat("USD"));case 3:200!==(t=e.sent).status?o():(n=t.data).rates.USD!==a&&i(n.rates.USD),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){return w.a.fire({icon:"error",title:"Error in fetching exchange rates!"})};return{updateNotReceivedItemsList:function(e){var t=n.findIndex((function(t){return t.id===e}));if(-1!==t){var c=n;c[t]=Object(v.a)(Object(v.a)({},c[t]),{},{isReceived:!0}),r(Object(p.a)(c))}},getCurrExChangeRates:s,getSortedItems:function(){return n.slice().sort((function(e,t){return e.deliveryDate.getTime()-t.deliveryDate.getTime()}))}}},M=n(118),A=n(119),G=n(120),z=n(121),V=n(123),W=n(117),q=n(122),H=n(130),K=n(124),Q=n(125),X=Object(m.a)((function(){return{card:{display:"flex",flexDirection:"column",margin:"2vh 1vw",width:"16vw"},row:{display:"flex"},description:{marginLeft:"0.25vw"},currencySwitch:{marginLeft:"-0.5vw"}}})),Y=function(e){var t=e.currItem,n=e.showReceivedButton,r=e.receiveItem,a=e.exchangeRate,i=Object(c.useState)(!0),s=Object(j.a)(i,2),o=s[0],u=s[1],d=X();Object(c.useEffect)((function(){t.priceUSD=t.priceILS*a}),[a]);return Object(E.jsxs)(N.a,{className:d.card,children:[Object(E.jsxs)(W.a,{children:[Object(E.jsxs)("div",{className:d.row,children:[Object(E.jsx)(M.a,{}),Object(E.jsx)(R.a,{className:d.description,children:t.name})]}),Object(E.jsxs)("div",{className:d.row,children:[Object(E.jsx)(A.a,{}),Object(E.jsx)(R.a,{className:d.description,children:t.store.name})]}),Object(E.jsxs)("div",{className:d.row,children:[Object(E.jsx)(G.a,{}),Object(E.jsxs)(R.a,{className:d.description,children:["Delivery Date: ",t.deliveryDate.toDateString()]})]}),Object(E.jsxs)("div",{className:d.row,children:[Object(E.jsx)(z.a,{}),Object(E.jsxs)(R.a,{className:d.description,children:["Price: ",o?t.priceILS.toFixed():t.priceUSD.toFixed()]})]}),Object(E.jsx)("div",{className:d.row,children:Object(E.jsxs)(q.a,{component:"label",container:!0,alignItems:"center",spacing:1,className:d.currencySwitch,children:[Object(E.jsx)(q.a,{item:!0,children:Object(E.jsx)(V.a,{})}),Object(E.jsx)(q.a,{item:!0,children:"USD"}),Object(E.jsx)(q.a,{item:!0,children:Object(E.jsx)(H.a,{checked:o,color:"primary",onChange:function(e){u(e.target.checked)}})}),Object(E.jsx)(q.a,{item:!0,children:"ILS"})]})})]}),n&&Object(E.jsxs)(K.a,{children:[Object(E.jsx)(Q.a,{}),Object(E.jsx)(b.a,{onClick:function(){return r(t.id)},children:"Received"})]})]})},Z=function(e){var t=k(),n=Object(c.useState)(0),r=Object(j.a)(n,2),a=r[0],i=r[1],s=J({shekelToUSDExchangeRate:a,setShekelToUSDExchangeRate:i}),o=s.updateNotReceivedItemsList,u=s.getCurrExChangeRates,d=s.getSortedItems;return Object(c.useEffect)((function(){if(u(),D.a){var e=setInterval((function(){u()}),Number(D.a));return function(){return clearInterval(e)}}})),Object(E.jsx)("div",{className:t.mainList,children:d().map((function(t){return(e.showButton?!t.isReceived:t.isReceived)&&Object(E.jsx)(Y,{currItem:t,showReceivedButton:e.showButton,receiveItem:o,exchangeRate:a})}))})},$=function(){var e=x(),t="/list"===Object(o.g)().pathname,n=r.a.useState(0),c=Object(j.a)(n,2),a=c[0],i=c[1],m=[{tabId:0,name:"Stores",displayComponent:Object(E.jsx)(U,{})},{tabId:1,name:"Items",displayComponent:Object(E.jsx)(Z,{showButton:t})}];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(u.a,{position:"static",className:e.toolBar,children:[Object(E.jsx)(d.a,{centered:!0,value:a,children:m.map((function(e){return Object(E.jsx)(l.a,{onClick:function(){return i(e.tabId)},label:e.name},e.tabId)}))}),Object(E.jsx)(b.a,{component:s.b,to:t?"/received":"/",children:t?"TO RECEIVED ITEMS LIST":"TO STORE ITEMS LIST"})]}),Object(E.jsx)(F,{children:m[a].displayComponent})]})},_=function(){return Object(E.jsx)($,{})},ee=function(){return Object(E.jsx)($,{})},te=function(){return Object(E.jsx)(s.a,{children:Object(E.jsxs)(o.d,{children:[Object(E.jsx)(o.b,{exact:!0,path:"/list",component:_}),Object(E.jsx)(o.b,{exact:!0,path:"/received",component:ee}),Object(E.jsx)(o.a,{from:"/",to:"/list"})]})})};i.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(te,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.d246179f.chunk.js.map